<h1>Person list:</h1>
<a class="btn btn-primary" [routerLink]="['/persons/add']">Add</a>
<div *ngIf="personsFacade.persons$ | async else loading" class="card my-4">
    <table class="table"> 
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Birthday</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Modify Date</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let person of personsFacade.persons$ | async">
                <td>{{person.firstName | titlecase}}</td>
                <td>{{person.lastName | titlecase}}</td>
                <td>{{person.birthday | date:'dd.mm.yyyy'}}</td>
                <td>{{person.email}}</td>
                <td>{{person.phoneNumber}}</td>
                <td>{{person.modifyDate | date:'dd.mm.yyyy HH:MM'}}</td>
                <td><a class="btn btn-primary" [routerLink]="['/persons/edit', person.id]">Edit</a></td>
                <td><button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteConfirmModal" (click)="onDeleteClick(person.id)">Delete</button></td>
            </tr>
        </tbody>
    </table>
</div>

<div class="modal fade" id="deleteConfirmModal" tabindex="-1" aria-labelledby="deleteConfirmModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteConfirmModal">Confirm delete</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Are you sore about delete person?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">No</button>
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="onModalClosed()">Yes</button>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
    <img src="assets/images/spinner.svg">
</ng-template>